## 堆

堆是一种特殊的完全二叉树，堆中每个节点的值都大于等于（或小于等于）其子节点的值。

- 大顶堆：每个节点的值都大于等于其子节点的值
- 小顶堆：每个节点的值都小于等于其子节点的值

### 堆的基本概念

1. **堆的定义**：
   - 堆是一种特殊的完全二叉树，通常用于实现优先队列。它的每个节点都遵循特定的顺序性质（最大堆或最小堆）。
   - 最大堆：每个父节点的值都大于或等于其子节点的值。
   - 最小堆：每个父节点的值都小于或等于其子节点的值。
2. **数组表示**：
   - 堆可以通过数组来表示，其中父节点和子节点的关系可以通过索引计算得到：
     - 父节点索引为 `(i - 1) / 2`
     - 左子节点索引为 `2 * i + 1`
     - 右子节点索引为 `2 * i + 2`

### 堆的操作

1. **插入（Push）**：
   - 在数组末尾添加新元素，然后通过 `sift_up`（上浮）操作将其调整到正确的位置，以保持堆的性质。
   - 具体过程是将新插入的元素与其父节点比较，如果新元素大于父节点，则交换位置，直到满足堆的性质或到达根节点。
2. **删除（Pop）**：
   - 删除堆顶元素（最大值），通常将最后一个元素放到堆顶，然后通过 `sift_down`（下沉）操作将其调整到正确的位置。
   - 具体过程是将堆顶元素与其子节点比较，选择较大的子节点进行交换，直到满足堆的性质或到达叶子节点。

### 性能分析

堆作为一种数据结构，实际上是对普通数组实现队列的一种优化，类似循环数组的优化。

- 插入后会按照既定的规则和其他数据做对比，通过交换的方式让最大值始终位于数组首位，从而实现优先队列的效果
- 与普通数组在出队时需要移动所有元素不同，堆的移动是树结构的移动，最快情况下的复杂度为 (O(\log n))，远远好过普通数组移动的 O(n)。

### 堆的实现

- [普通堆](basic/README.md)
- [索引堆](index/README.md)

